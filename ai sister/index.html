<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å…­å“¥è£è€€ - å¯ç¨‹ä¹‹æ—¶</title>
    <link rel="icon" href="https://xiaochen1235789.github.io/images/wangzhantupian.png" type="image/png">
    <style>
        :root {
            /* å´©é“ä¸»é¢˜å˜é‡ */
            --hsr-bg: #0a0a14;
            --hsr-surface: #151525;
            --hsr-card: #1e1e2e;
            --hsr-primary: #00d4ff;
            --hsr-primary-dark: #0088cc;
            --hsr-primary-light: #66e5ff;
            --hsr-text: #ffffff;
            --hsr-subtext: #a0b4c6;
            --hsr-danger: #ff4757;
            --hsr-warning: #ff9f43;
            --hsr-success: #1dd1a1;
            --hsr-energy: #4488ff;
            --hsr-hp: #ff6b81;
            --hsr-glass: rgba(255, 255, 255, 0.05);
            --hsr-glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'HYWenHei-85W', 'Microsoft YaHei', sans-serif;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: var(--hsr-bg);
            color: var(--hsr-text);
            position: fixed;
        }

        /* ä¸»ç•Œé¢èƒŒæ™¯ */
        .main-container {
            width: 100%;
            height: 100%;
            position: relative;
            background: 
                radial-gradient(circle at 20% 10%, #1a1a3a 0%, transparent 40%),
                radial-gradient(circle at 80% 90%, #0f1a2e 0%, transparent 40%),
                var(--hsr-bg);
            overflow: hidden;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ */
        .stars-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* ä¸»æ ‡é¢˜åŒºåŸŸ */
        .title-container {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 10;
            width: 90%;
            max-width: 800px;
        }

        .game-title {
            font-size: 3.5rem;
            background: linear-gradient(135deg, #00d4ff, #66e5ff, #ffffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
            letter-spacing: 2px;
        }

        .game-subtitle {
            font-size: 1.2rem;
            color: var(--hsr-subtext);
            margin-bottom: 3rem;
            opacity: 0.8;
            letter-spacing: 1px;
        }

        /* èœå•åŒºåŸŸ */
        .menu-container {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            z-index: 20;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .menu-item {
            background: var(--hsr-glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--hsr-glass-border);
            border-radius: 12px;
            padding: 20px 30px;
            font-size: 1.2rem;
            color: var(--hsr-text);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .menu-item:hover::before {
            left: 100%;
        }

        .menu-item:hover {
            border-color: var(--hsr-primary);
            background: rgba(0, 212, 255, 0.05);
            transform: translateX(10px);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.2);
        }

        .menu-item:active {
            transform: translateX(10px) scale(0.98);
        }

        .menu-icon {
            font-size: 1.5rem;
            opacity: 0.8;
        }

        /* è§’è‰²å±•ç¤º */
        .character-showcase {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 5;
            opacity: 0.7;
        }

        .character-card {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--hsr-primary), var(--hsr-primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .character-card:hover {
            transform: translateY(-10px) scale(1.1);
            border-color: var(--hsr-primary);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.4);
            opacity: 1;
        }

        .character-name {
            position: absolute;
            bottom: -25px;
            font-size: 0.8rem;
            color: var(--hsr-subtext);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .character-card:hover .character-name {
            opacity: 1;
        }

        /* åº•éƒ¨ä¿¡æ¯ */
        .footer-info {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            color: var(--hsr-subtext);
            font-size: 0.9rem;
            z-index: 5;
            opacity: 0.5;
            width: 100%;
        }

        /* ç‰ˆæœ¬å· */
        .version {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--hsr-subtext);
            font-size: 0.8rem;
            z-index: 10;
            opacity: 0.5;
        }

        /* è®¾ç½®é¢æ¿ */
        .settings-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background: var(--hsr-surface);
            border: 1px solid var(--hsr-glass-border);
            border-radius: 20px;
            padding: 30px;
            z-index: 1000;
            backdrop-filter: blur(30px);
            display: none;
            flex-direction: column;
            gap: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .settings-panel.active {
            display: flex;
            animation: panelFadeIn 0.3s ease;
        }

        @keyframes panelFadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .settings-title {
            font-size: 1.8rem;
            color: var(--hsr-primary);
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--hsr-subtext);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: var(--hsr-text);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--hsr-glass-border);
        }

        .setting-label {
            font-size: 1.1rem;
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            width: 50px;
            height: 26px;
            background: var(--hsr-glass);
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle-switch.active {
            background: var(--hsr-primary);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .toggle-switch.active::after {
            transform: translateX(24px);
        }

        .volume-slider {
            width: 150px;
            height: 6px;
            background: var(--hsr-glass);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }

        .volume-fill {
            position: absolute;
            height: 100%;
            background: var(--hsr-primary);
            border-radius: 3px;
        }

        .volume-handle {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            cursor: grab;
        }

        .volume-handle:active {
            cursor: grabbing;
        }

        .settings-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .settings-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid var(--hsr-glass-border);
            border-radius: 10px;
            background: var(--hsr-glass);
            color: var(--hsr-text);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .settings-btn.primary {
            background: linear-gradient(135deg, var(--hsr-primary), var(--hsr-primary-dark));
        }

        .settings-btn:hover {
            border-color: var(--hsr-primary);
            transform: translateY(-2px);
        }

        /* é®ç½©å±‚ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 999;
            display: none;
        }

        .overlay.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* å…³äºé¢æ¿ */
        .about-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 600px;
            background: var(--hsr-surface);
            border: 1px solid var(--hsr-glass-border);
            border-radius: 20px;
            padding: 40px;
            z-index: 1000;
            backdrop-filter: blur(30px);
            display: none;
            flex-direction: column;
            gap: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .about-panel.active {
            display: flex;
        }

        .about-title {
            font-size: 2rem;
            text-align: center;
            color: var(--hsr-primary);
            margin-bottom: 20px;
        }

        .about-content {
            line-height: 1.6;
            color: var(--hsr-subtext);
            text-align: center;
        }

        .about-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-item {
            background: var(--hsr-glass);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--hsr-glass-border);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--hsr-primary);
        }

        .feature-text {
            font-size: 0.9rem;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--hsr-bg);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }

        .loading-text {
            font-size: 1.5rem;
            color: var(--hsr-primary);
            margin-bottom: 30px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .loading-bar {
            width: 200px;
            height: 4px;
            background: var(--hsr-glass);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }

        .loading-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--hsr-primary), var(--hsr-primary-light));
            border-radius: 2px;
            animation: loading 2s ease-in-out infinite;
        }

        @keyframes loading {
            0% { width: 0%; left: 0; }
            50% { width: 100%; left: 0; }
            100% { width: 0%; left: 100%; }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .game-title {
                font-size: 2.5rem;
            }
            
            .game-subtitle {
                font-size: 1rem;
            }
            
            .menu-item {
                padding: 18px 20px;
                font-size: 1.1rem;
            }
            
            .character-showcase {
                gap: 15px;
            }
            
            .character-card {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
            
            .about-features {
                grid-template-columns: 1fr;
            }
        }

        @media (max-height: 600px) {
            .title-container {
                top: 5%;
            }
            
            .menu-container {
                top: 35%;
            }
            
            .character-showcase {
                display: none;
            }
        }

        @media (orientation: landscape) and (max-height: 500px) {
            .game-title {
                font-size: 2rem;
            }
            
            .menu-container {
                top: 50%;
                transform: translate(-50%, -50%);
                width: 80%;
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .menu-item {
                flex: 1;
                min-width: 150px;
            }
            
            .character-showcase {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- åŠ è½½ç•Œé¢ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">è·ƒè¿å‡†å¤‡ä¸­...</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>

    <!-- ä¸»ç•Œé¢ -->
    <div class="main-container" id="mainContainer" style="display: none;">
        <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
        <div class="stars-bg" id="starsBg"></div>
        
        <!-- ä¸»æ ‡é¢˜ -->
        <div class="title-container">
            <h1 class="game-title">å…­å“¥è£è€€</h1>
            <div class="game-subtitle">æ˜Ÿæµ·æ— å ï¼Œå‘½è¿å¾…å¯</div>
        </div>
        
        <!-- ç‰ˆæœ¬å· -->
        <div class="version">v1.0.0</div>
        
        <!-- ä¸»èœå• -->
        <div class="menu-container">
            <!-- å¼€å§‹æ¸¸æˆ -->
<a href="https://xiaochen1235789.github.io/ai sister/select-character.html" class="menu-item">
    <span>ğŸš€ å¼€å§‹æ¸¸æˆ</span>
    <span class="menu-icon">â–¶</span>
</a>
            
            <!-- è§’è‰²è¯¦æƒ…æŒ‰é’® -->
<a href="https://xiaochen1235789.github.io/ai sister/role-details.html" class="menu-item">
    <span>ğŸ¾ è§’è‰²è¯¦æƒ…</span>
    <span class="menu-icon">â–¶</span>
</a>
            
            <div class="menu-item" onclick="showSettings()">
                <span>âš™ï¸ è®¾ç½®</span>
                <span class="menu-icon">âš™ï¸</span>
            </div>
            <div class="menu-item" onclick="showAbout()">
                <span>ğŸ“– å…³äº</span>
                <span class="menu-icon">ğŸ“–</span>
            </div>
            <div class="menu-item" onclick="exitGame()">
                <span>ğŸšª é€€å‡º</span>
                <span class="menu-icon">ğŸšª</span>
            </div>
        </div>
        
        <!-- è§’è‰²å±•ç¤º -->
        <div class="character-showcase">
            <div class="character-card">
                ğŸš€
                <div class="character-name"></div>
            </div>
            <div class="character-card">
                ğŸ›¡ï¸
                <div class="character-name"></div>
            </div>
            <div class="character-card">
                âš¡
                <div class="character-name"></div>
            </div>
            <div class="character-card">
                ğŸ’«
                <div class="character-name"></div>
            </div>
        </div>
        
        <!-- åº•éƒ¨ä¿¡æ¯ -->
        <div class="footer-info">
            è¿½éšæ˜Ÿç¥çš„è½¨è¿¹ï¼Œä¹¦å†™å±äºä½ çš„ä¼ å¥‡
        </div>
    </div>
    
    <!-- è®¾ç½®é¢æ¿ -->
    <div class="overlay" id="overlay"></div>
    
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2 class="settings-title">æ¸¸æˆè®¾ç½®</h2>
            <button class="close-btn" onclick="hideSettings()">âœ•</button>
        </div>
        
        <div class="setting-item">
            <span class="setting-label">éŸ³ä¹</span>
            <div class="setting-control">
                <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                <div class="volume-slider" onclick="adjustVolume(event, this)">
                    <div class="volume-fill" style="width: 70%"></div>
                    <div class="volume-handle" style="left: 65%"></div>
                </div>
            </div>
        </div>
        
        <div class="setting-item">
            <span class="setting-label">éŸ³æ•ˆ</span>
            <div class="setting-control">
                <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                <div class="volume-slider" onclick="adjustVolume(event, this)">
                    <div class="volume-fill" style="width: 80%"></div>
                    <div class="volume-handle" style="left: 75%"></div>
                </div>
            </div>
        </div>
        
        <div class="setting-item">
            <span class="setting-label">éœ‡åŠ¨åé¦ˆ</span>
            <div class="setting-control">
                <div class="toggle-switch" onclick="toggleSetting(this)"></div>
            </div>
        </div>
        
        <div class="setting-item">
            <span class="setting-label">ç”»é¢è´¨é‡</span>
            <div class="setting-control">
                <select class="quality-select" onchange="changeQuality(this)">
                    <option value="low">ä½</option>
                    <option value="medium" selected>ä¸­</option>
                    <option value="high">é«˜</option>
                    <option value="ultra">æè‡´</option>
                </select>
            </div>
        </div>
        
        <div class="settings-actions">
            <button class="settings-btn" onclick="resetSettings()">é‡ç½®</button>
            <button class="settings-btn primary" onclick="saveSettings()">ä¿å­˜</button>
        </div>
    </div>
    
    <!-- å…³äºé¢æ¿ -->
    <div class="about-panel" id="aboutPanel">
        <h2 class="about-title">å…³äºæ˜Ÿç©¹é“é“</h2>
        
        <div class="about-content">
            è¿™æ˜¯ä¸€æ¬¾åŸºäºã€Šå´©åï¼šæ˜Ÿç©¹é“é“ã€‹æˆ˜æ–—æœºåˆ¶å¼€å‘çš„ç½‘é¡µæ¸¸æˆã€‚<br>
            ä½“éªŒç­–ç•¥æˆ˜æ–—çš„é­…åŠ›ï¼Œç»„å»ºä½ çš„å°é˜Ÿï¼Œæ¢ç´¢æœªçŸ¥çš„å®‡å®™ï¼
        </div>
        
        <div class="about-features">
            <div class="feature-item">
                <div class="feature-icon">âš”ï¸</div>
                <div class="feature-text">å›åˆåˆ¶ç­–ç•¥æˆ˜æ–—</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸŒŸ</div>
                <div class="feature-text">è§’è‰²æŠ€èƒ½æ­é…</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ®</div>
                <div class="feature-text">é”®ç›˜/è§¦æ§æ“ä½œ</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ“±</div>
                <div class="feature-text">å“åº”å¼è®¾è®¡</div>
            </div>
        </div>
        
        <div class="about-content">
            å¼€å‘è€…ï¼šå°å°˜<br>
            ç‰ˆæœ¬ï¼šv1.0.0<br>
            ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨
        </div>
        
        <div class="settings-actions">
            <button class="settings-btn primary" onclick="hideAbout()">è¿”å›</button>
        </div>
    </div>

    <script>
        // ===================== åˆå§‹åŒ–ä¸»ç•Œé¢ =====================
        function initMainMenu() {
            // éšè—åŠ è½½ç•Œé¢ï¼Œæ˜¾ç¤ºä¸»ç•Œé¢
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                const mainContainer = document.getElementById('mainContainer');
                
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    mainContainer.style.display = 'block';
                }, 500);
            }, 1500);
            
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            createStars();
            
            // åˆå§‹åŒ–è®¾ç½®
            loadSettings();
            
            // æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', handleMenuKeyDown);
        }
        
        // ===================== æ˜Ÿç©ºèƒŒæ™¯ç”Ÿæˆ =====================
        function createStars() {
            const starsBg = document.getElementById('starsBg');
            const starCount = window.innerWidth < 768 ? 50 : 100;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // éšæœºä½ç½®å’Œå¤§å°
                const size = Math.random() * 3 + 1;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = Math.random() * 3 + 2;
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.opacity = Math.random() * 0.5 + 0.3;
                star.style.setProperty('--duration', `${duration}s`);
                
                starsBg.appendChild(star);
            }
        }
        
        // ===================== èœå•åŠŸèƒ½ =====================
        function startGame() {
            showLoading("æ­£åœ¨è¿›å…¥æˆ˜æ–—...");
            
            // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
            setTimeout(() => {
                // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°æˆ˜æ–—é¡µé¢
                window.location.href = 'battle.html';
                
                // æˆ–è€…åœ¨å½“å‰é¡µé¢åŠ è½½æˆ˜æ–—ç•Œé¢
                console.log("å¼€å§‹æ¸¸æˆï¼Œè·³è½¬åˆ°æˆ˜æ–—ç•Œé¢");
                alert("å¼€å§‹æ¸¸æˆï¼æˆ˜æ–—ç•Œé¢å°†åœ¨å®Œæ•´å®ç°ä¸­åŠ è½½ã€‚");
                
                // é‡ç½®åŠ è½½ç•Œé¢
                hideLoading();
            }, 1000);
        }
        
        function showSettings() {
            document.getElementById('overlay').classList.add('active');
            document.getElementById('settingsPanel').classList.add('active');
        }
        
        function hideSettings() {
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('settingsPanel').classList.remove('active');
        }
        
        function showAbout() {
            document.getElementById('overlay').classList.add('active');
            document.getElementById('aboutPanel').classList.add('active');
        }
        
        function hideAbout() {
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('aboutPanel').classList.remove('active');
        }
        
        function exitGame() {
            if (confirm("ç¡®å®šè¦é€€å‡ºæ¸¸æˆå—ï¼Ÿ")) {
                // å¦‚æœæ˜¯ç½‘é¡µï¼Œå…³é—­å½“å‰çª—å£
                if (window.opener) {
                    window.close();
                } else {
                    // å¦åˆ™æ˜¾ç¤ºé€€å‡ºæ¶ˆæ¯
                    showLoading("æ­£åœ¨é€€å‡º...");
                    setTimeout(() => {
                        document.body.innerHTML = `
                            <div style="
                                width: 100%;
                                height: 100%;
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                justify-content: center;
                                background: var(--hsr-bg);
                                color: var(--hsr-primary);
                                font-size: 1.5rem;
                                text-align: center;
                                padding: 20px;
                            ">
                                <div style="margin-bottom: 20px;">ğŸš€</div>
                                <div>æ„Ÿè°¢æ¸¸ç©æ˜Ÿç©¹é“é“</div>
                                <div style="margin-top: 10px; font-size: 1rem; color: var(--hsr-subtext);">
                                    æœŸå¾…ä¸‹æ¬¡å†ä¼šï¼Œå¼€æ‹“è€…ï¼
                                </div>
                            </div>
                        `;
                    }, 1000);
                }
            }
        }
        
        // ===================== è®¾ç½®åŠŸèƒ½ =====================
        function toggleSetting(element) {
            element.classList.toggle('active');
        }
        
        function adjustVolume(event, slider) {
            const rect = slider.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const percentage = Math.min(Math.max(x / rect.width * 100, 0), 100);
            
            const fill = slider.querySelector('.volume-fill');
            const handle = slider.querySelector('.volume-handle');
            
            fill.style.width = `${percentage}%`;
            handle.style.left = `${percentage}%`;
        }
        
        function changeQuality(select) {
            console.log("ç”»é¢è´¨é‡æ›´æ”¹ä¸º:", select.value);
        }
        
        function resetSettings() {
            if (confirm("ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®¾ç½®å—ï¼Ÿ")) {
                // é‡ç½®æ‰€æœ‰å¼€å…³
                document.querySelectorAll('.toggle-switch').forEach(switchEl => {
                    if (switchEl.parentElement.querySelector('.volume-slider')) {
                        switchEl.classList.add('active');
                    } else {
                        switchEl.classList.remove('active');
                    }
                });
                
                // é‡ç½®éŸ³é‡æ»‘å—
                document.querySelectorAll('.volume-slider').forEach(slider => {
                    const fill = slider.querySelector('.volume-fill');
                    const handle = slider.querySelector('.volume-handle');
                    
                    const defaultVolume = slider.parentElement.querySelector('.toggle-switch.active') ? 70 : 0;
                    fill.style.width = `${defaultVolume}%`;
                    handle.style.left = `${defaultVolume}%`;
                });
                
                // é‡ç½®ç”»é¢è´¨é‡
                const qualitySelect = document.querySelector('.quality-select');
                qualitySelect.value = 'medium';
                
                console.log("è®¾ç½®å·²é‡ç½®");
            }
        }
        
        function saveSettings() {
            // ä¿å­˜è®¾ç½®åˆ°æœ¬åœ°å­˜å‚¨
            const settings = {
                music: {
                    enabled: document.querySelector('.toggle-switch.active') ? true : false,
                    volume: parseInt(document.querySelector('.volume-fill').style.width)
                },
                quality: document.querySelector('.quality-select').value
            };
            
            localStorage.setItem('hsr-settings', JSON.stringify(settings));
            console.log("è®¾ç½®å·²ä¿å­˜:", settings);
            hideSettings();
        }
        
        function loadSettings() {
            const savedSettings = localStorage.getItem('hsr-settings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                console.log("åŠ è½½è®¾ç½®:", settings);
            }
        }
        
        // ===================== åŠ è½½åŠ¨ç”» =====================
        function showLoading(text) {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingText = loadingScreen.querySelector('.loading-text');
            
            loadingText.textContent = text || "åŠ è½½ä¸­...";
            loadingScreen.style.display = 'flex';
            loadingScreen.style.opacity = '1';
        }
        
        function hideLoading() {
            const loadingScreen = document.getElementById('loadingScreen');
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
                loadingScreen.style.display = 'none';
            }, 500);
        }
        
        // ===================== é”®ç›˜æ§åˆ¶ =====================
        function handleMenuKeyDown(e) {
            switch(e.key) {
                case 'Enter':
                    startGame();
                    break;
                case 'Escape':
                    hideSettings();
                    hideAbout();
                    break;
                case '1':
                    startGame();
                    break;
                case '2':
                    showSettings();
                    break;
                case '3':
                    showAbout();
                    break;
                case '4':
                    exitGame();
                    break;
            }
        }
        
        // ===================== åˆå§‹åŒ– =====================
        window.addEventListener('DOMContentLoaded', initMainMenu);
        
        // é˜»æ­¢å³é”®èœå•
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        
        // é˜»æ­¢é”®ç›˜é»˜è®¤è¡Œä¸ºï¼ˆé™¤äº†å¿…è¦çš„é”®ï¼‰
        document.addEventListener('keydown', (e) => {
            if (['Space', 'ArrowUp', 'ArrowDown'].includes(e.code)) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>